

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Usage &mdash; MuDip  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API" href="API.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> MuDip
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#defining-the-magnetic-structure">Defining the Magnetic Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#defining-the-crystal-structure">Defining the Crystal Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#obtaining-the-magnetic-field-at-an-arbitrary-point-within-the-crystal">Obtaining the Magnetic Field at an Arbitrary Point within the Crystal</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotting-the-magnetic-field-within-the-sample">Plotting the Magnetic Field within the Sample</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="future.html">Future</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MuDip</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="defining-the-magnetic-structure">
<h2>Defining the Magnetic Structure<a class="headerlink" href="#defining-the-magnetic-structure" title="Permalink to this headline">¶</a></h2>
<p>There are currently four magnetic textures that may be defined. These are</p>
<ul class="simple">
<li>Ferromagnetic alignment</li>
<li>Antiferromagnetic alignment</li>
<li>A single-wavevector helical spin configuration, as described by T. Lancaster et. al. <a class="footnote-reference" href="#id3" id="id1">[1]</a></li>
<li>A triple-wavevector skyrmion-like spin configuration, as described by T. Lancaster et. al. <a class="footnote-reference" href="#id3" id="id2">[1]</a></li>
</ul>
<p>The initialisation of the magnetic structure depends on the arguments passed to its constructor. To define a ferromagnetically-aligned structure with spins parallel to the y-direction, one would run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">MuDip</span> <span class="k">import</span> <span class="n">MomentField</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">fourierComponent</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">momentField</span> <span class="o">=</span> <span class="n">MomentField</span><span class="p">(</span><span class="n">fourierComponent</span><span class="p">)</span>
</pre></div>
</div>
<p>For an antiferromagnetically-aligned structure for which the propagation is along the x-axis with a wavelength of 10 unit cells, and the spins are aligned parallel to the y-axis, one would run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">MuDip</span> <span class="k">import</span> <span class="n">MomentField</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">propagationVector</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">wavelength</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">fourierComponent</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">momentField</span> <span class="o">=</span> <span class="n">MuDip</span><span class="o">.</span><span class="n">MomentField</span><span class="p">(</span><span class="n">propagationVector</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">fourierComponent</span><span class="p">)</span>
</pre></div>
</div>
<p>For the single-wavevector helical spin configuration, with a wavelength of 70 unit cells, one would run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">MuDip</span> <span class="k">import</span> <span class="n">MomentField</span>
<span class="n">wavelength</span> <span class="o">=</span> <span class="mi">70</span>
<span class="n">momentField</span> <span class="o">=</span> <span class="n">MomentField</span><span class="p">(</span><span class="n">wavelength</span><span class="p">,</span> <span class="s2">&quot;singleK&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Similarly, for the triple-wavevector skyrmion-like spin configuration, with a skyrmion wavelengåth of 70 unit cells, one would run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">MuDip</span> <span class="k">import</span> <span class="n">MomentField</span>
<span class="n">wavelength</span> <span class="o">=</span> <span class="mi">70</span>
<span class="n">momentField</span> <span class="o">=</span> <span class="n">MomentField</span><span class="p">(</span><span class="n">wavelength</span><span class="p">,</span> <span class="s2">&quot;tripleK&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="defining-the-crystal-structure">
<h2>Defining the Crystal Structure<a class="headerlink" href="#defining-the-crystal-structure" title="Permalink to this headline">¶</a></h2>
<p>Currently, the only crystal structure defined in MuDip is the Cu2OSeO3 crystal, which consists of 16 copper ions per unit cell, four of which have their moment flipped with respect to the general magnetic moment structure. To define the crystal, a <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">MomentField</span></code> object is passed to the crystal as a argument, as in the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">MuDip</span> <span class="k">import</span> <span class="n">Cu2OSeO3</span>
<span class="n">crystal</span> <span class="o">=</span> <span class="n">Cu2OSeO3</span><span class="p">(</span><span class="n">momentField</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="obtaining-the-magnetic-field-at-an-arbitrary-point-within-the-crystal">
<h2>Obtaining the Magnetic Field at an Arbitrary Point within the Crystal<a class="headerlink" href="#obtaining-the-magnetic-field-at-an-arbitrary-point-within-the-crystal" title="Permalink to this headline">¶</a></h2>
<p>To obtain the field due to the dipoles within a Lorentz sphere of radius 20 unit cells as a numpy array of the form [B_x, B_y, B_z], where B_i is the dipole magnetic field along the i-axis at position x = 3.4, y = 9.2, z = 10.1, where length units are specified in terms of unit cells, we would run the code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Bdip</span> <span class="o">=</span> <span class="n">crystal</span><span class="o">.</span><span class="n">getDipoleField</span><span class="p">(</span><span class="mf">3.4</span><span class="p">,</span> <span class="mf">9.2</span><span class="p">,</span> <span class="mf">10.1</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>Similarly, for the Lorentz field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Blor</span> <span class="o">=</span> <span class="n">crystal</span><span class="o">.</span><span class="n">getLorentzField</span><span class="p">(</span><span class="mf">3.4</span><span class="p">,</span> <span class="mf">9.2</span><span class="p">,</span> <span class="mf">10.1</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>And for the total (dipolar + Lorentz) field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Btot</span> <span class="o">=</span> <span class="n">crystal</span><span class="o">.</span><span class="n">getTotalField</span><span class="p">(</span><span class="mf">3.4</span><span class="p">,</span> <span class="mf">9.2</span><span class="p">,</span> <span class="mf">10.1</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="plotting-the-magnetic-field-within-the-sample">
<h2>Plotting the Magnetic Field within the Sample<a class="headerlink" href="#plotting-the-magnetic-field-within-the-sample" title="Permalink to this headline">¶</a></h2>
<p>MuDip makes it relatively easy to obtain the projection of the magnetic field structure onto an arbitrary plane along the z-axis. After having defined the magnetic and crystal structures as previously described, we can create a <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">VectorFieldCreator</span></code> object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">muonPositions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.215</span><span class="p">,</span> <span class="mf">0.700</span><span class="p">,</span> <span class="mf">0.970</span><span class="p">]])</span>
<span class="n">startCell</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endCell</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">resolution</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">radius</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">Bapplied</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">vectorFieldCreator</span> <span class="o">=</span> <span class="n">MuDip</span><span class="o">.</span><span class="n">VectorFieldCreator</span><span class="p">(</span><span class="n">momentField</span><span class="p">,</span> <span class="n">crystal</span><span class="p">,</span> <span class="n">muonPositions</span><span class="p">,</span> <span class="n">startCell</span><span class="p">,</span> <span class="n">endCell</span><span class="p">,</span> <span class="n">resolution</span><span class="p">,</span>
                                          <span class="n">radius</span><span class="p">,</span> <span class="n">Bapplied</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>)</em> Lancaster, T., Williams, R. C., Thomas, I. O., Xiao, F., Pratt, F. L., Blundell, S. J., Loudon, J. C., Hesjedal, T., Clark, S. J., Hatton, P. D., Ciomaga Hatnean, M., Keeble, D. S. &amp; Balakrishnan, G. (2015). Transverse field muon-spin rotation signature of the skyrmion-lattice phase in Cu2OSeO3. Phys. Rev. B, 91, 224408.</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="API.html" class="btn btn-neutral float-right" title="API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Ross Knapman.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>